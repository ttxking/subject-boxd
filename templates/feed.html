<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trending Subjects</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    <header>
        <h1>
            <img src="{{ url_for('static', filename='images/uoe_logo.png') }}" alt="University of Edinburgh Logo"> / Informaboxd
        </h1>
        <nav>
            <a href="/">Home</a>
            <a href="/feed">Trending</a>
            {% if logged_in %}
                <a href="/logout">Logout</a>
            {% else %}
                <a href="/login">Login</a>
            {% endif %}
        </nav>
    </header>

    <div class="container">
        <h2>🔥 Trending Subjects</h2>

        <div class="trending-container">
            <!-- Most Reviewed Subjects -->
            <div class="trending-column">
                <h3>📝 Most Reviewed</h3>
                {% for subject in most_reviewed %}
                <div class="trending-subject">
                    <a href="/subject/{{ subject.id }}"><h4>{{ subject.name }}</h4></a>
                    <p>📄 Reviews: {{ subject.review_count }}</p>
                </div>
                {% endfor %}
            </div>

            <!-- Highest Rated Subjects -->
            <div class="trending-column">
                <h3>⭐ Highest Rated</h3>
                {% for subject in highest_rated %}
                <div class="trending-subject">
                    <a href="/subject/{{ subject.id }}"><h4>{{ subject.name }}</h4></a>
                    <p>🌟 Average Rating: {{ subject.avg_rating|round(2) }}</p>
                </div>
                {% endfor %}
            </div>
        </div>

        <a href="/" class="back-home">&larr; Back to Home</a>
    </div>

    <footer>
        <p>&copy; 2025 Subject Review Platform | All Rights Reserved</p>
    </footer>
</body>

</html>